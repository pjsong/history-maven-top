http://sourcemaking.com/design_patterns/state